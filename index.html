<!DOCTYPE HTML>
<html lang="ru" xmlns="http://www.w3.org/1999/html">

<head>
	<title>DumpConf2016. Автоматизация инфраструктуры</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=792, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen.css">
	<link rel="stylesheet" href="styles/2gis.css">
</head>

<style>
#bottom {
    z-index:0;
}

#middle {
    z-index:1;
    color:#fff
}

#top {
    z-index:2;
}
</style>

<body class="list">
	<header class="caption">
		<h1>Автоматизация инфраструктуры. Зачем мы это делаем?</h1>
	</header>

	<section class="slide cover cover-title"><div>
		<h2 id="middle">Автоматизация инфраструктуры. Зачем мы это делаем?</h2>
		<img id="top" src="pictures/2gisvector.png" alt="2GIS Logo" width="30%" height="30%">
        <img id="bottom" src="pictures/dc_back.png" width="100%" height="100%">
	</div></section>

	<section class="slide shout section"><div>
		<h2>О себе</h2>
	</div></section>

    <section class="slide"><div>
		<ul>В компании:
            <li>2 года</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<ul>В компании:
            <li>2 года</li>
		</ul>
        <ul>Команда:
            <li>Infrastructure & Operations</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<ul>В компании:
            <li>2 года</li>
		</ul>
        <ul>Команда:
            <li>Infrastructure & Operations</li>
            <li>9 человек</li>
        </ul>
	</div></section>

	<section class="slide shout section"><div>
		<h2>Инфраструктура</h2>
	</div></section>

	<section class="slide shout section section-green"><div>
		<h2>Куда деплоить?</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
		<ul>Pros
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
		<ul>Pros
			<li>Просто</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
		<ul>Pros
			<li>Просто</li>
			<li>Зачем что то еще</li>
		</ul>
	</div></section>

	<section class="slide shout section section-orange"><div>
		<h2>А что с Windows и OS X?</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
		<ul>Pros
			<li>Просто</li>
			<li>Зачем что то еще</li>
		</ul>
		<ul>Cons
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
		<ul>Pros
			<li>Просто</li>
			<li>Зачем что то еще</li>
		</ul>
		<ul>Cons
			<li>Разные операционные системы</li>
		</ul>
	</div></section>

	<section class="slide shout section section-orange"><div>
		<h2>OK, Linux!</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Локально</h2>
		<ul>Pros
			<li>Просто</li>
			<li>Зачем что то еще</li>
		</ul>
		<ul>Cons
			<li>Разные операционные системы</li>
            <li>Проблемы с зависимостями</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально, с изоляцией</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Локально, с изоляцией</h2>
		<ul>
			<li>VirtualBox</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально, с изоляцией</h2>
		<ul>
			<li>VirtualBox</li>
			<li>KVM</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально, с изоляцией</h2>
		<ul>
			<li>VirtualBox</li>
			<li>KVM</li>
			<li>LXC</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Локально, с изоляцией</h2>
		<ul>
			<li>VirtualBox</li>
			<li>KVM</li>
			<li>LXC</li>
            <li>Docker</li>
		</ul>
	</div></section>

	<section class="slide shout section section-green"><div>
		<h2>Развиваемся</h2>
	</div></section>

	<section class="slide"><div>
		<h2>New case</h2>
		<ul>
			<li>Интеграция</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>New case</h2>
		<ul>
			<li>Интеграция</li>
			<li>Демо стенды</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>New case</h2>
		<ul>
			<li>Интеграция</li>
			<li>Демо стенды</li>
			<li>Continuous Integration</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>New case</h2>
		<ul>
			<li>Интеграция</li>
			<li>Демо стенды</li>
			<li>Continuous Integration</li>
            <li>Auxiliary Software</li>
		</ul>
	</div></section>

	<section class="slide shout section"><div>
		<h2>2 ГИС</h2>
	</div></section>

	<section class="slide cover cover-downloaded-picture"><div>
		<img src="pictures/map.png" width="100%" height="100%">
	</div></section>

	<section class="slide"><div>
		<h2>2 ГИС</h2>
		<ul>
			<li>Справочник и карты</li>
			<li>Web, Mobile, Desktop</li>
			<li>35 команд</li>
		</ul>
        <img src="pictures/products.png" align="right">
	</div></section>

	<section class="slide"><div>
		<h2>Проблемы</h2>
        <p>Конец 2013 - Proxmox Virtual Environment</p>
	</div></section>

	<section class="slide"><div>
		<h2>Проблемы</h2>
        <p>Конец 2013 - Proxmox Virtual Environment</p>
		<ul>
			<li>Виртуалка = тикет админам</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Проблемы</h2>
        <p>Конец 2013 - Proxmox Virtual Environment</p>
		<ul>
			<li>Виртуалка = тикет админам</li>
			<li>Нет разделения по проектам</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Проблемы</h2>
        <p>Конец 2013 - Proxmox Virtual Environment</p>
		<ul>
			<li>Виртуалка = тикет админам</li>
			<li>Нет разделения по проектам</li>
			<li>Слабый API</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Проблемы</h2>
        <p>Конец 2013 - Proxmox Virtual Environment</p>
		<ul>
			<li>Виртуалка = тикет админам</li>
			<li>Нет разделения по проектам</li>
			<li>Слабый API</li>
            <li>Платные плагины</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Что у нас есть?</h2>
		<ul>
			<li>Свое железо</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Что у нас есть?</h2>
		<ul>
			<li>Свое железо</li>
			<li>Системный администраторы</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Что у нас есть?</h2>
		<ul>
			<li>Свое железо</li>
			<li>Системный администраторы</li>
			<li>Опыт в виртуализации</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Требования к решению</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Требования к решению</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
			<li>Командные ресурсы</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Требования к решению</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
			<li>Командные ресурсы</li>
			<li>Модульность</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Требования к решению</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
			<li>Командные ресурсы</li>
			<li>Модульность</li>
			<li>Легко дорабатывать</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Требования к решению</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
			<li>Командные ресурсы</li>
			<li>Модульность</li>
			<li>Легко дорабатывать</li>
			<li>API</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Требования к решению</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
			<li>Командные ресурсы</li>
			<li>Модульность</li>
			<li>Легко дорабатывать</li>
			<li>API</li>
			<li>Изоляция</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Варианты</h2>
		<ul>
			<li>Публичное облако (AWS, Digital Ocean, Rackspace)</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Варианты</h2>
		<ul>
			<li>Публичное облако (AWS, Digital Ocean, Rackspace)</li>
			<li>Приватное облако (VMware, HP)</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Варианты</h2>
		<ul>
			<li>Публичное облако (AWS, Digital Ocean, Rackspace)</li>
			<li>Приватное облако (VMware, HP)</li>
			<li>Приватное облако open-source (Apache Cloudstack, OpenStack)</li>
		</ul>
	</div></section>

	<section class="slide cover-contacts"><div>
		<img src="pictures/openstack.png" height="80%" width="60%">
	</div></section>

	<section class="slide"><div>
		<h2>OpenStack</h2>
        <p>
        Набор сервисов для построения публичного или приватного облака
        </p>
	</div></section>

	<section class="slide cover-contacts"><div>
		<img src="pictures/openstack-software-diagram.png" height="80%" width="100%">
	</div></section>

	<section class="slide"><div>
		<h2>OpenStack</h2>
		<ul>
			<li>Релиз раз в полгода - <a href="http://status.openstack.org" title="status.openstack.org">status.openstack.org</a></li>
			<li>Базовые компоненты - <a href="https://github.com/openstack" title="github.com/openstack">github.com/openstack</a></li>
			<li>Инкубатор - <a href="https://github.com/stackforge" title="github.com/stackforge">github.com/stackforge</a></li>
            <li>Конференции, встречи, maillists - <a href="http://www.openstack.org/community" title="openstack.org/community">openstack.org/community</a></li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Контрибьюторы OpenStack</h2>
        <p>openstack.org/foundation/companies</p>
		<ul>
			<li>Red Hat</li>
			<li>Rackspace</li>
			<li>IBM</li>
            <li>Intel</li>
            <li>Cisco</li>
		</ul>
	</div></section>

	<section class="slide"><div>
		<h2>Решение проблем инфраструктуры</h2>
		<ul>
			<li>Эффективная утилизация железа</li>
			<li>Командные ресурсы</li>
			<li>Модульность</li>
			<li>Легко дорабатывать</li>
			<li>API</li>
			<li>Изоляция</li>
		</ul>
	</div></section>

	<section class="slide shout section section-green"><div>
		<h2>Инфраструктура по требованию</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Инфраструктура по требованию</h2>
		<pre>
            <code>server:</code>
            <code>  depends_on: [ ip_address, dns_record ]</code>
            <code>  type: OS::Nova::Server</code>
            <code>  properties:</code>
            <code>      name: { get_param: name } </code>
            <code>      flavor: { get_param: flavor } </code>
            <code>      image: { get_param: image } </code>
            <code>      key_name: { get_param: key_name } </code>
		</pre>
	</div></section>

	<section class="slide"><div>
		<h2>Инфраструктура по требованию</h2>
        <pre>
            <code> heat stack-create API -f api.yml \ </code>
            <code> -P key_name="id_rsa" \ </code>
            <code> -P name=api-all-in-one \ </code>
            <code> -P flavor=medium \ </code>
            <code> -P image="ubuntu-14.04-x64" </code>
        </pre>
	</div></section>

	<section class="slide shout section section-green"><div>
		<h2>Статус</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Control Plane</h2>
        <ul>
            3 Infra Nodes
            <li>RAM: 30 GB</li>
            <li>CPU: 8</li>
            <li>Storage: 100 GB</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Network Nodes</h2>
        <ul>
            2 KVM
            <li>RAM: 8 GB</li>
            <li>CPU: 8</li>
            <li>Storage: 100 GB</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Командные ресурсы</h2>
        <ul>
            8 Compute Nodes
            <li>RAM: 250 GB</li>
            <li>CPU: 32</li>
            <li>Storage: 900 GB</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Командные ресурсы</h2>
        <ul>
            8 Compute Nodes
            <li>RAM: 250 GB</li>
            <li>CPU: 32</li>
            <li>Storage: 900 GB</li>
        </ul>
        <p>~ 350 VM</p>
	</div></section>

	<section class="slide shout section section-green"><div>
		<h2>Уроки</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
            <li>Network</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
            <li>Network</li>
            <li>MySQL Galera, Rabbit MQ</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
            <li>Network</li>
            <li>MySQL Galera, Rabbit MQ</li>
            <li>DNS</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
            <li>Network</li>
            <li>MySQL Galera, Rabbit MQ</li>
            <li>DNS</li>
            <li>Python</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
            <li>Network</li>
            <li>MySQL Galera, Rabbit MQ</li>
            <li>DNS</li>
            <li>Python</li>
            <li>Infrastructure as a Code</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Команда</h2>
        <ul>
            <li>Ansible</li>
            <li>Virtualization</li>
            <li>Network</li>
            <li>MySQL Galera, Rabbit MQ</li>
            <li>DNS</li>
            <li>Python</li>
            <li>Infrastructure as a Code</li>
            <li>Continuous Integration</li>
        </ul>
	</div></section>

	<section class="slide cover-contacts"><div>
		<img src="pictures/openstack-software-diagram.png" height="80%" width="100%">
	</div></section>

	<section class="slide cover-contacts"><div>
		<img src="pictures/openstack-real.png" height="80%" width="100%">
	</div></section>

	<section class="slide"><div>
		<h2>Внедрение</h2>
        <ul>
            <li>Documentation</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Внедрение</h2>
        <ul>
            <li>Documentation</li>
            <li>TechTalks</li>
        </ul>
	</div></section>

	<section class="slide"><div>
		<h2>Внедрение</h2>
        <ul>
            <li>Documentation</li>
            <li>TechTalks</li>
            <li>Работа с командами</li>
        </ul>
	</div></section>

	<section class="slide shout section section-green"><div>
		<h2>Итог</h2>
	</div></section>

	<section class="slide"><div>
		<h2>Итог</h2>
		<ul>
			<li>Быстрый deploy продуктов</li>
			<li>CI в командах</li>
            <li>Развитие автоматизации</li>
			<li>Разгрузили админов</li>
		</ul>
	</div></section>

	<section class="slide cover cover-contacts"><div>
		<h2>Яковлев Денис</h2>
		<p>
			Вопросы?<br>
            d.yakovlev@2gis.ru<br>
		</p>
		<div><span></span><h2>Спасибо!</h2></div>
		<img src="pictures/2gis-cover.png" alt="2GIS Logo">
	</div></section>

	<div class="progress"><div></div></div>

	<script src="node_modules/shower-core/shower.min.js"></script>

</body>
</html>
